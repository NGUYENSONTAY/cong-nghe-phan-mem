{"ast":null,"code":"import React,{useState}from'react';import{Link,useNavigate}from'react-router-dom';import{useAuth}from'../../contexts/AuthContext';import{useCart}from'../../contexts/CartContext';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Header=()=>{const[isMenuOpen,setIsMenuOpen]=useState(false);const[isUserMenuOpen,setIsUserMenuOpen]=useState(false);const[searchQuery,setSearchQuery]=useState('');const{user,isAuthenticated,logout}=useAuth();const{cart}=useCart();const navigate=useNavigate();const handleSearch=e=>{e.preventDefault();if(searchQuery.trim()){navigate(`/books?search=${encodeURIComponent(searchQuery.trim())}`);setSearchQuery('');}};const handleLogout=()=>{logout();setIsUserMenuOpen(false);navigate('/');};return/*#__PURE__*/_jsx(\"header\",{className:\"bg-white shadow-md sticky top-0 z-40\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto px-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between h-16\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsxs(Link,{to:\"/\",className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl\",children:\"\\uD83D\\uDCDA\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xl font-bold text-primary-600\",children:\"Th\\u1EBF Gi\\u1EDBi S\\xE1ch\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"hidden md:flex flex-1 max-w-lg mx-8\",children:/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSearch,className:\"w-full\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"search-box\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"T\\xECm ki\\u1EBFm s\\xE1ch, t\\xE1c gi\\u1EA3...\",value:searchQuery,onChange:e=>setSearchQuery(e.target.value),className:\"search-input\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"search-icon\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-5 w-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"})})})]})})}),/*#__PURE__*/_jsxs(\"nav\",{className:\"hidden md:flex items-center space-x-6\",children:[/*#__PURE__*/_jsx(Link,{to:\"/books\",className:\"nav-link\",children:\"S\\xE1ch\"}),/*#__PURE__*/_jsxs(Link,{to:\"/cart\",className:\"relative nav-link\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"h-6 w-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0L5.4 5M7 13l-2.293 2.293c-.39.39-.586.902-.586 1.414v0a2 2 0 002 2H19M17 21a2 2 0 100-4 2 2 0 000 4zM9 21a2 2 0 100-4 2 2 0 000 4z\"})}),cart.totalItems>0&&/*#__PURE__*/_jsx(\"span\",{className:\"absolute -top-2 -right-2 bg-red-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center\",children:cart.totalItems})]}),isAuthenticated?/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setIsUserMenuOpen(!isUserMenuOpen),className:\"flex items-center space-x-2 nav-link\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Xin ch\\xE0o, \",user===null||user===void 0?void 0:user.name]}),/*#__PURE__*/_jsx(\"svg\",{className:\"h-4 w-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M19 9l-7 7-7-7\"})})]}),isUserMenuOpen&&/*#__PURE__*/_jsxs(\"div\",{className:\"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50\",children:[/*#__PURE__*/_jsx(Link,{to:\"/profile\",className:\"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\",onClick:()=>setIsUserMenuOpen(false),children:\"Th\\xF4ng tin c\\xE1 nh\\xE2n\"}),/*#__PURE__*/_jsx(Link,{to:\"/orders\",className:\"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\",onClick:()=>setIsUserMenuOpen(false),children:\"\\u0110\\u01A1n h\\xE0ng c\\u1EE7a t\\xF4i\"}),(user===null||user===void 0?void 0:user.role)==='ADMIN'&&/*#__PURE__*/_jsx(Link,{to:\"/admin\",className:\"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\",onClick:()=>setIsUserMenuOpen(false),children:\"Qu\\u1EA3n tr\\u1ECB\"}),/*#__PURE__*/_jsx(\"hr\",{className:\"my-1\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,className:\"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\",children:\"\\u0110\\u0103ng xu\\u1EA5t\"})]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"nav-link\",children:\"\\u0110\\u0103ng nh\\u1EADp\"}),/*#__PURE__*/_jsx(Link,{to:\"/register\",className:\"btn btn-primary\",children:\"\\u0110\\u0103ng k\\xFD\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"md:hidden\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsMenuOpen(!isMenuOpen),className:\"text-gray-600 hover:text-primary-600 focus:outline-none focus:text-primary-600\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-6 w-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:isMenuOpen?/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"}):/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M4 6h16M4 12h16M4 18h16\"})})})})]}),isMenuOpen&&/*#__PURE__*/_jsxs(\"div\",{className:\"md:hidden py-4 border-t border-gray-200\",children:[/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSearch,className:\"mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"search-box\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"T\\xECm ki\\u1EBFm s\\xE1ch, t\\xE1c gi\\u1EA3...\",value:searchQuery,onChange:e=>setSearchQuery(e.target.value),className:\"search-input\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"search-icon\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-5 w-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"})})})]})}),/*#__PURE__*/_jsxs(\"nav\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(Link,{to:\"/books\",className:\"block nav-link\",onClick:()=>setIsMenuOpen(false),children:\"S\\xE1ch\"}),/*#__PURE__*/_jsxs(Link,{to:\"/cart\",className:\"flex items-center nav-link\",onClick:()=>setIsMenuOpen(false),children:[\"Gi\\u1ECF h\\xE0ng\",cart.totalItems>0&&/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 bg-red-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center\",children:cart.totalItems})]}),isAuthenticated?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{to:\"/profile\",className:\"block nav-link\",onClick:()=>setIsMenuOpen(false),children:\"Th\\xF4ng tin c\\xE1 nh\\xE2n\"}),/*#__PURE__*/_jsx(Link,{to:\"/orders\",className:\"block nav-link\",onClick:()=>setIsMenuOpen(false),children:\"\\u0110\\u01A1n h\\xE0ng c\\u1EE7a t\\xF4i\"}),(user===null||user===void 0?void 0:user.role)==='ADMIN'&&/*#__PURE__*/_jsx(Link,{to:\"/admin\",className:\"block nav-link\",onClick:()=>setIsMenuOpen(false),children:\"Qu\\u1EA3n tr\\u1ECB\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{handleLogout();setIsMenuOpen(false);},className:\"block nav-link text-left w-full\",children:\"\\u0110\\u0103ng xu\\u1EA5t\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 pt-2\",children:[/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"block nav-link\",onClick:()=>setIsMenuOpen(false),children:\"\\u0110\\u0103ng nh\\u1EADp\"}),/*#__PURE__*/_jsx(Link,{to:\"/register\",className:\"btn btn-primary w-full\",onClick:()=>setIsMenuOpen(false),children:\"\\u0110\\u0103ng k\\xFD\"})]})]})]})]})});};export default Header;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}