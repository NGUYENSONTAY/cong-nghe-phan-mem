{"ast":null,"code":"var _jsxFileName = \"/home/diengb/bansach/bookstore/frontend/src/pages/admin/AdminAuthorManagement.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useQuery, useMutation, useQueryClient } from 'react-query';\nimport toast from 'react-hot-toast';\nimport { FaEdit, FaTrash, FaPlus, FaSearch, FaUser, FaSave, FaTimes, FaCalendar, FaGlobe, FaBook } from 'react-icons/fa';\nimport { authorAPI } from '../../api/authorAPI';\nimport Loading from '../../components/common/Loading';\nimport { ConfirmModal } from '../../components/common/Modal';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AdminAuthorManagement = () => {\n  _s();\n  const queryClient = useQueryClient();\n\n  // State for search and filters\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedNationality, setSelectedNationality] = useState('');\n\n  // State for delete confirmation modal\n  const [isDeleteModalOpen, setIsDeleteModalOpen] = useState(false);\n  const [authorToDelete, setAuthorToDelete] = useState(null);\n\n  // State for add/edit modal\n  const [isFormModalOpen, setIsFormModalOpen] = useState(false);\n  const [editingAuthor, setEditingAuthor] = useState(null);\n  const [formData, setFormData] = useState({\n    name: '',\n    biography: '',\n    birthDate: '',\n    nationality: ''\n  });\n  const {\n    data: authors,\n    isLoading,\n    isError,\n    error\n  } = useQuery('authors', authorAPI.getAllAuthors);\n  const {\n    data: nationalities\n  } = useQuery('nationalities', authorAPI.getAllNationalities);\n  const createMutation = useMutation(authorAPI.createAuthor, {\n    onSuccess: () => {\n      toast.success('Tạo tác giả thành công!');\n      queryClient.invalidateQueries('authors');\n      closeFormModal();\n    },\n    onError: err => {\n      toast.error(`Lỗi khi tạo tác giả: ${err.message}`);\n    }\n  });\n  const updateMutation = useMutation(({\n    id,\n    data\n  }) => authorAPI.updateAuthor(id, data), {\n    onSuccess: () => {\n      toast.success('Cập nhật tác giả thành công!');\n      queryClient.invalidateQueries('authors');\n      closeFormModal();\n    },\n    onError: err => {\n      toast.error(`Lỗi khi cập nhật tác giả: ${err.message}`);\n    }\n  });\n  const deleteMutation = useMutation(authorAPI.deleteAuthor, {\n    onSuccess: () => {\n      toast.success('Xóa tác giả thành công!');\n      queryClient.invalidateQueries('authors');\n      closeDeleteModal();\n    },\n    onError: err => {\n      toast.error(`Lỗi khi xóa tác giả: ${err.message}`);\n      closeDeleteModal();\n    }\n  });\n  const filteredAuthors = (authors === null || authors === void 0 ? void 0 : authors.filter(author => {\n    var _author$biography, _author$nationality;\n    const matchesSearch = author.name.toLowerCase().includes(searchTerm.toLowerCase()) || ((_author$biography = author.biography) === null || _author$biography === void 0 ? void 0 : _author$biography.toLowerCase().includes(searchTerm.toLowerCase())) || ((_author$nationality = author.nationality) === null || _author$nationality === void 0 ? void 0 : _author$nationality.toLowerCase().includes(searchTerm.toLowerCase()));\n    const matchesNationality = !selectedNationality || author.nationality === selectedNationality;\n    return matchesSearch && matchesNationality;\n  })) || [];\n  const openCreateModal = () => {\n    setEditingAuthor(null);\n    setFormData({\n      name: '',\n      biography: '',\n      birthDate: '',\n      nationality: ''\n    });\n    setIsFormModalOpen(true);\n  };\n  const openEditModal = author => {\n    setEditingAuthor(author);\n    setFormData({\n      _id: author._id,\n      name: author.name,\n      biography: author.biography || '',\n      birthDate: author.birthDate || '',\n      nationality: author.nationality || ''\n    });\n    setIsFormModalOpen(true);\n  };\n  const closeFormModal = () => {\n    setIsFormModalOpen(false);\n    setEditingAuthor(null);\n    setFormData({\n      name: '',\n      biography: '',\n      birthDate: '',\n      nationality: ''\n    });\n  };\n  const openDeleteModal = author => {\n    setAuthorToDelete(author);\n    setIsDeleteModalOpen(true);\n  };\n  const closeDeleteModal = () => {\n    setAuthorToDelete(null);\n    setIsDeleteModalOpen(false);\n  };\n  const handleFormSubmit = e => {\n    var _formData$biography, _formData$nationality;\n    e.preventDefault();\n    if (!formData.name.trim()) {\n      toast.error('Tên tác giả không được để trống');\n      return;\n    }\n    const authorData = {\n      name: formData.name.trim(),\n      biography: ((_formData$biography = formData.biography) === null || _formData$biography === void 0 ? void 0 : _formData$biography.trim()) || '',\n      birthDate: formData.birthDate || '',\n      nationality: ((_formData$nationality = formData.nationality) === null || _formData$nationality === void 0 ? void 0 : _formData$nationality.trim()) || ''\n    };\n    if (editingAuthor) {\n      updateMutation.mutate({\n        id: editingAuthor._id,\n        data: authorData\n      });\n    } else {\n      createMutation.mutate(authorData);\n    }\n  };\n  const handleDeleteAuthor = () => {\n    if (authorToDelete) {\n      deleteMutation.mutate(authorToDelete._id);\n    }\n  };\n  const formatDate = dateString => {\n    if (!dateString) return '—';\n    return new Date(dateString).toLocaleDateString('vi-VN');\n  };\n  const formatDateTime = dateString => {\n    if (!dateString) return '—';\n    return new Date(dateString).toLocaleString('vi-VN');\n  };\n  const calculateAge = birthDate => {\n    if (!birthDate) return null;\n    const today = new Date();\n    const birth = new Date(birthDate);\n    const age = today.getFullYear() - birth.getFullYear();\n    const monthDiff = today.getMonth() - birth.getMonth();\n    if (monthDiff < 0 || monthDiff === 0 && today.getDate() < birth.getDate()) {\n      return age - 1;\n    }\n    return age;\n  };\n  if (isLoading) return /*#__PURE__*/_jsxDEV(Loading, {\n    text: \"\\u0110ang t\\u1EA3i danh s\\xE1ch t\\xE1c gi\\u1EA3...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 177,\n    columnNumber: 25\n  }, this);\n  if (isError) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"text-red-500\",\n    children: [\"L\\u1ED7i: \", error.message]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 178,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col sm:flex-row sm:items-center sm:justify-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-3xl font-bold text-gray-900\",\n          children: \"Qu\\u1EA3n l\\xFD T\\xE1c gi\\u1EA3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600 mt-1\",\n          children: authors ? `${authors.length} tác giả` : 'Đang tải...'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: openCreateModal,\n        className: \"mt-4 sm:mt-0 px-4 py-2 bg-blue-600 text-white font-medium rounded-md hover:bg-blue-700 flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(FaPlus, {\n          className: \"w-4 h-4 mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 11\n        }, this), \"Th\\xEAm t\\xE1c gi\\u1EA3 m\\u1EDBi\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow-sm border border-gray-200 p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"md:col-span-2\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative\",\n            children: [/*#__PURE__*/_jsxDEV(FaSearch, {\n              className: \"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: searchTerm,\n              onChange: e => setSearchTerm(e.target.value),\n              placeholder: \"T\\xECm ki\\u1EBFm t\\xE1c gi\\u1EA3 theo t\\xEAn, ti\\u1EC3u s\\u1EED, qu\\u1ED1c t\\u1ECBch...\",\n              className: \"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"select\", {\n            value: selectedNationality,\n            onChange: e => setSelectedNationality(e.target.value),\n            className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"T\\u1EA5t c\\u1EA3 qu\\u1ED1c t\\u1ECBch\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 15\n            }, this), nationalities === null || nationalities === void 0 ? void 0 : nationalities.map(nationality => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: nationality,\n              children: nationality\n            }, nationality, false, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-4 gap-4 pt-4 border-t border-gray-200\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-2xl font-bold text-orange-600\",\n            children: (authors === null || authors === void 0 ? void 0 : authors.length) || 0\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-gray-500\",\n            children: \"T\\u1ED5ng t\\xE1c gi\\u1EA3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-2xl font-bold text-green-600\",\n            children: filteredAuthors.length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-gray-500\",\n            children: \"Hi\\u1EC3n th\\u1ECB\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-2xl font-bold text-purple-600\",\n            children: (nationalities === null || nationalities === void 0 ? void 0 : nationalities.length) || 0\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-gray-500\",\n            children: \"Qu\\u1ED1c t\\u1ECBch\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-2xl font-bold text-orange-600\",\n            children: (authors === null || authors === void 0 ? void 0 : authors.length) || 0\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-gray-500\",\n            children: \"T\\u1ED5ng s\\xE1ch\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow-sm border border-gray-200\",\n      children: filteredAuthors.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center py-12\",\n        children: [/*#__PURE__*/_jsxDEV(FaUser, {\n          className: \"w-16 h-16 text-gray-300 mx-auto mb-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-medium text-gray-900 mb-2\",\n          children: searchTerm || selectedNationality ? 'Không tìm thấy tác giả' : 'Chưa có tác giả nào'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-500 mb-6\",\n          children: searchTerm || selectedNationality ? 'Thử thay đổi từ khóa tìm kiếm hoặc bộ lọc' : 'Bắt đầu bằng cách thêm tác giả mới'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 13\n        }, this), !searchTerm && !selectedNationality && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: openCreateModal,\n          className: \"inline-flex items-center px-4 py-2 bg-blue-600 text-white font-medium rounded-md hover:bg-blue-700\",\n          children: [/*#__PURE__*/_jsxDEV(FaPlus, {\n            className: \"w-4 h-4 mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 17\n          }, this), \"Th\\xEAm t\\xE1c gi\\u1EA3 m\\u1EDBi\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"overflow-x-auto\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"min-w-full\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            className: \"bg-gray-50\",\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"T\\xE1c gi\\u1EA3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 284,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"Th\\xF4ng tin\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 287,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"Ti\\u1EC3u s\\u1EED\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 290,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"S\\xE1ch\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 293,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"H\\xE0nh \\u0111\\u1ED9ng\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 296,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 283,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            className: \"bg-white divide-y divide-gray-200\",\n            children: filteredAuthors.map(author => /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"hover:bg-gray-50\",\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-6 py-4 whitespace-nowrap\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex-shrink-0 h-10 w-10\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center\",\n                      children: /*#__PURE__*/_jsxDEV(FaUser, {\n                        className: \"h-5 w-5 text-blue-600\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 308,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 307,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 306,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"ml-4\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-sm font-medium text-gray-900\",\n                      children: author.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 312,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-sm text-gray-500 flex items-center mt-1\",\n                      children: [/*#__PURE__*/_jsxDEV(FaGlobe, {\n                        className: \"w-3 h-3 mr-1\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 314,\n                        columnNumber: 29\n                      }, this), author.nationality || 'Chưa rõ']\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 313,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 311,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 305,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 304,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-6 py-4 whitespace-nowrap\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm text-gray-900\",\n                  children: [author.birthDate && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center mb-1\",\n                    children: [/*#__PURE__*/_jsxDEV(FaCalendar, {\n                      className: \"w-3 h-3 mr-1 text-gray-400\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 324,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: formatDate(author.birthDate)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 325,\n                      columnNumber: 29\n                    }, this), calculateAge(author.birthDate) && /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"ml-2 text-gray-500\",\n                      children: [\"(\", calculateAge(author.birthDate), \" tu\\u1ED5i)\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 327,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 323,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-xs text-gray-500\",\n                    children: [\"T\\u1EA1o: \", formatDateTime(author.createdAt || '')]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 331,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 321,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 320,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-6 py-4\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm text-gray-600 max-w-xs\",\n                  children: author.biography ? /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"truncate\",\n                    children: author.biography\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 339,\n                    columnNumber: 27\n                  }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-gray-400 italic\",\n                    children: \"Ch\\u01B0a c\\xF3 ti\\u1EC3u s\\u1EED\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 341,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 337,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 336,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-6 py-4 whitespace-nowrap\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center text-sm text-gray-900\",\n                  children: [/*#__PURE__*/_jsxDEV(FaBook, {\n                    className: \"w-4 h-4 mr-1 text-green-600\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 347,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-medium\",\n                    children: \"0\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 348,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-gray-500 ml-1\",\n                    children: \"cu\\u1ED1n\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 349,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 346,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 345,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-6 py-4 whitespace-nowrap text-center\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-center space-x-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => openEditModal(author),\n                    className: \"px-3 py-1 bg-blue-600 text-white text-sm font-medium rounded hover:bg-blue-700 flex items-center\",\n                    children: [/*#__PURE__*/_jsxDEV(FaEdit, {\n                      className: \"w-3 h-3 mr-1\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 358,\n                      columnNumber: 27\n                    }, this), \"S\\u1EEDa\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 354,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => openDeleteModal(author),\n                    className: \"px-3 py-1 bg-red-600 text-white text-sm font-medium rounded hover:bg-red-700 flex items-center\",\n                    children: [/*#__PURE__*/_jsxDEV(FaTrash, {\n                      className: \"w-3 h-3 mr-1\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 365,\n                      columnNumber: 27\n                    }, this), \"X\\xF3a\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 361,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 353,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 352,\n                columnNumber: 21\n              }, this)]\n            }, author._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 7\n    }, this), isFormModalOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-medium text-gray-900\",\n              children: editingAuthor ? 'Chỉnh sửa tác giả' : 'Thêm tác giả mới'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 384,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: closeFormModal,\n              className: \"text-gray-400 hover:text-gray-600\",\n              children: /*#__PURE__*/_jsxDEV(FaTimes, {\n                className: \"w-5 h-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 391,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 387,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 383,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleFormSubmit,\n            className: \"space-y-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium text-gray-700 mb-1\",\n                  children: \"T\\xEAn t\\xE1c gi\\u1EA3 *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 398,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: formData.name,\n                  onChange: e => setFormData({\n                    ...formData,\n                    name: e.target.value\n                  }),\n                  className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",\n                  placeholder: \"Nh\\u1EADp t\\xEAn t\\xE1c gi\\u1EA3...\",\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 401,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 397,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium text-gray-700 mb-1\",\n                  children: \"Qu\\u1ED1c t\\u1ECBch\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 412,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: formData.nationality,\n                  onChange: e => setFormData({\n                    ...formData,\n                    nationality: e.target.value\n                  }),\n                  className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",\n                  placeholder: \"Nh\\u1EADp qu\\u1ED1c t\\u1ECBch...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 415,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 411,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 396,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-1\",\n                children: \"Ng\\xE0y sinh\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 426,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                value: formData.birthDate,\n                onChange: e => setFormData({\n                  ...formData,\n                  birthDate: e.target.value\n                }),\n                className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 429,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 425,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-1\",\n                children: \"Ti\\u1EC3u s\\u1EED\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 438,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                value: formData.biography,\n                onChange: e => setFormData({\n                  ...formData,\n                  biography: e.target.value\n                }),\n                className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",\n                placeholder: \"Nh\\u1EADp ti\\u1EC3u s\\u1EED t\\xE1c gi\\u1EA3...\",\n                rows: 4\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 441,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 437,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex space-x-3 pt-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                disabled: createMutation.isLoading || updateMutation.isLoading,\n                className: \"flex-1 px-4 py-2 bg-blue-600 text-white font-medium rounded-md hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center\",\n                children: [/*#__PURE__*/_jsxDEV(FaSave, {\n                  className: \"w-4 h-4 mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 456,\n                  columnNumber: 21\n                }, this), createMutation.isLoading || updateMutation.isLoading ? 'Đang lưu...' : 'Lưu']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 451,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: closeFormModal,\n                className: \"flex-1 px-4 py-2 bg-gray-600 text-white font-medium rounded-md hover:bg-gray-700 flex items-center justify-center\",\n                children: [/*#__PURE__*/_jsxDEV(FaTimes, {\n                  className: \"w-4 h-4 mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 464,\n                  columnNumber: 21\n                }, this), \"H\\u1EE7y\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 459,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 450,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 395,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 382,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 381,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 380,\n      columnNumber: 9\n    }, this), authorToDelete && /*#__PURE__*/_jsxDEV(ConfirmModal, {\n      isOpen: isDeleteModalOpen,\n      onClose: closeDeleteModal,\n      onConfirm: handleDeleteAuthor,\n      title: \"X\\xE1c nh\\u1EADn x\\xF3a t\\xE1c gi\\u1EA3\",\n      message: `Bạn có chắc chắn muốn xóa tác giả \"${authorToDelete.name}\"? Hành động này không thể hoàn tác và có thể ảnh hưởng đến các sách của tác giả này.`,\n      variant: \"danger\",\n      confirmText: \"X\\xF3a\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 476,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 181,\n    columnNumber: 5\n  }, this);\n};\n_s(AdminAuthorManagement, \"ZN4cjLcjDkWsntNyTrUAzBsj7wE=\", false, function () {\n  return [useQueryClient, useQuery, useQuery, useMutation, useMutation, useMutation];\n});\n_c = AdminAuthorManagement;\nexport default AdminAuthorManagement;\nvar _c;\n$RefreshReg$(_c, \"AdminAuthorManagement\");","map":{"version":3,"names":["React","useState","useQuery","useMutation","useQueryClient","toast","FaEdit","FaTrash","FaPlus","FaSearch","FaUser","FaSave","FaTimes","FaCalendar","FaGlobe","FaBook","authorAPI","Loading","ConfirmModal","jsxDEV","_jsxDEV","AdminAuthorManagement","_s","queryClient","searchTerm","setSearchTerm","selectedNationality","setSelectedNationality","isDeleteModalOpen","setIsDeleteModalOpen","authorToDelete","setAuthorToDelete","isFormModalOpen","setIsFormModalOpen","editingAuthor","setEditingAuthor","formData","setFormData","name","biography","birthDate","nationality","data","authors","isLoading","isError","error","getAllAuthors","nationalities","getAllNationalities","createMutation","createAuthor","onSuccess","success","invalidateQueries","closeFormModal","onError","err","message","updateMutation","id","updateAuthor","deleteMutation","deleteAuthor","closeDeleteModal","filteredAuthors","filter","author","_author$biography","_author$nationality","matchesSearch","toLowerCase","includes","matchesNationality","openCreateModal","openEditModal","_id","openDeleteModal","handleFormSubmit","e","_formData$biography","_formData$nationality","preventDefault","trim","authorData","mutate","handleDeleteAuthor","formatDate","dateString","Date","toLocaleDateString","formatDateTime","toLocaleString","calculateAge","today","birth","age","getFullYear","monthDiff","getMonth","getDate","text","fileName","_jsxFileName","lineNumber","columnNumber","className","children","length","onClick","type","value","onChange","target","placeholder","map","createdAt","onSubmit","required","rows","disabled","isOpen","onClose","onConfirm","title","variant","confirmText","_c","$RefreshReg$"],"sources":["/home/diengb/bansach/bookstore/frontend/src/pages/admin/AdminAuthorManagement.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useQuery, useMutation, useQueryClient } from 'react-query';\nimport toast from 'react-hot-toast';\nimport { FaEdit, FaTrash, FaPlus, FaSearch, FaUser, FaSave, FaTimes, FaCalendar, FaGlobe, FaBook } from 'react-icons/fa';\n\nimport { authorAPI, Author, AuthorData } from '../../api/authorAPI';\nimport Loading from '../../components/common/Loading';\nimport { ConfirmModal } from '../../components/common/Modal';\n\ninterface AuthorFormData extends AuthorData {\n  _id?: string;\n}\n\nconst AdminAuthorManagement: React.FC = () => {\n  const queryClient = useQueryClient();\n  \n  // State for search and filters\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedNationality, setSelectedNationality] = useState('');\n  \n  // State for delete confirmation modal\n  const [isDeleteModalOpen, setIsDeleteModalOpen] = useState(false);\n  const [authorToDelete, setAuthorToDelete] = useState<Author | null>(null);\n  \n  // State for add/edit modal\n  const [isFormModalOpen, setIsFormModalOpen] = useState(false);\n  const [editingAuthor, setEditingAuthor] = useState<Author | null>(null);\n  const [formData, setFormData] = useState<AuthorFormData>({\n    name: '',\n    biography: '',\n    birthDate: '',\n    nationality: '',\n  });\n\n  const { data: authors, isLoading, isError, error } = useQuery<Author[]>(\n    'authors',\n    authorAPI.getAllAuthors\n  );\n\n  const { data: nationalities } = useQuery<string[]>(\n    'nationalities',\n    authorAPI.getAllNationalities\n  );\n\n  const createMutation = useMutation(authorAPI.createAuthor, {\n    onSuccess: () => {\n      toast.success('Tạo tác giả thành công!');\n      queryClient.invalidateQueries('authors');\n      closeFormModal();\n    },\n    onError: (err: Error) => {\n      toast.error(`Lỗi khi tạo tác giả: ${err.message}`);\n    }\n  });\n\n  const updateMutation = useMutation(\n    ({ id, data }: { id: string; data: AuthorData }) => authorAPI.updateAuthor(id, data),\n    {\n      onSuccess: () => {\n        toast.success('Cập nhật tác giả thành công!');\n        queryClient.invalidateQueries('authors');\n        closeFormModal();\n      },\n      onError: (err: Error) => {\n        toast.error(`Lỗi khi cập nhật tác giả: ${err.message}`);\n      }\n    }\n  );\n\n  const deleteMutation = useMutation(authorAPI.deleteAuthor, {\n    onSuccess: () => {\n      toast.success('Xóa tác giả thành công!');\n      queryClient.invalidateQueries('authors');\n      closeDeleteModal();\n    },\n    onError: (err: Error) => {\n      toast.error(`Lỗi khi xóa tác giả: ${err.message}`);\n      closeDeleteModal();\n    }\n  });\n\n  const filteredAuthors = authors?.filter(author => {\n    const matchesSearch = author.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                         author.biography?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                         author.nationality?.toLowerCase().includes(searchTerm.toLowerCase());\n    \n    const matchesNationality = !selectedNationality || author.nationality === selectedNationality;\n    \n    return matchesSearch && matchesNationality;\n  }) || [];\n\n  const openCreateModal = () => {\n    setEditingAuthor(null);\n    setFormData({ name: '', biography: '', birthDate: '', nationality: '' });\n    setIsFormModalOpen(true);\n  };\n\n  const openEditModal = (author: Author) => {\n    setEditingAuthor(author);\n    setFormData({\n      _id: author._id,\n      name: author.name,\n      biography: author.biography || '',\n      birthDate: author.birthDate || '',\n      nationality: author.nationality || '',\n    });\n    setIsFormModalOpen(true);\n  };\n\n  const closeFormModal = () => {\n    setIsFormModalOpen(false);\n    setEditingAuthor(null);\n    setFormData({ name: '', biography: '', birthDate: '', nationality: '' });\n  };\n\n  const openDeleteModal = (author: Author) => {\n    setAuthorToDelete(author);\n    setIsDeleteModalOpen(true);\n  };\n\n  const closeDeleteModal = () => {\n    setAuthorToDelete(null);\n    setIsDeleteModalOpen(false);\n  };\n\n  const handleFormSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!formData.name.trim()) {\n      toast.error('Tên tác giả không được để trống');\n      return;\n    }\n\n    const authorData: AuthorData = {\n      name: formData.name.trim(),\n      biography: formData.biography?.trim() || '',\n      birthDate: formData.birthDate || '',\n      nationality: formData.nationality?.trim() || '',\n    };\n\n    if (editingAuthor) {\n      updateMutation.mutate({ id: editingAuthor._id, data: authorData });\n    } else {\n      createMutation.mutate(authorData);\n    }\n  };\n\n  const handleDeleteAuthor = () => {\n    if (authorToDelete) {\n      deleteMutation.mutate(authorToDelete._id);\n    }\n  };\n\n  const formatDate = (dateString: string) => {\n    if (!dateString) return '—';\n    return new Date(dateString).toLocaleDateString('vi-VN');\n  };\n\n  const formatDateTime = (dateString: string) => {\n    if (!dateString) return '—';\n    return new Date(dateString).toLocaleString('vi-VN');\n  };\n\n  const calculateAge = (birthDate: string) => {\n    if (!birthDate) return null;\n    const today = new Date();\n    const birth = new Date(birthDate);\n    const age = today.getFullYear() - birth.getFullYear();\n    const monthDiff = today.getMonth() - birth.getMonth();\n    \n    if (monthDiff < 0 || (monthDiff === 0 && today.getDate() < birth.getDate())) {\n      return age - 1;\n    }\n    return age;\n  };\n\n  if (isLoading) return <Loading text=\"Đang tải danh sách tác giả...\" />;\n  if (isError) return <div className=\"text-red-500\">Lỗi: {(error as Error).message}</div>;\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between\">\n        <div>\n          <h1 className=\"text-3xl font-bold text-gray-900\">Quản lý Tác giả</h1>\n          <p className=\"text-gray-600 mt-1\">\n            {authors ? `${authors.length} tác giả` : 'Đang tải...'}\n          </p>\n        </div>\n        <button\n          onClick={openCreateModal}\n          className=\"mt-4 sm:mt-0 px-4 py-2 bg-blue-600 text-white font-medium rounded-md hover:bg-blue-700 flex items-center\"\n        >\n          <FaPlus className=\"w-4 h-4 mr-2\" />\n          Thêm tác giả mới\n        </button>\n      </div>\n\n      {/* Search and Filters */}\n      <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6\">\n          {/* Search Bar */}\n          <div className=\"md:col-span-2\">\n            <div className=\"relative\">\n              <FaSearch className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\n              <input\n                type=\"text\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                placeholder=\"Tìm kiếm tác giả theo tên, tiểu sử, quốc tịch...\"\n                className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              />\n            </div>\n          </div>\n\n          {/* Nationality Filter */}\n          <div>\n            <select\n              value={selectedNationality}\n              onChange={(e) => setSelectedNationality(e.target.value)}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            >\n              <option value=\"\">Tất cả quốc tịch</option>\n              {nationalities?.map((nationality) => (\n                <option key={nationality} value={nationality}>\n                  {nationality}\n                </option>\n              ))}\n            </select>\n          </div>\n        </div>\n\n        {/* Quick Stats */}\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 pt-4 border-t border-gray-200\">\n          <div className=\"text-center\">\n            <div className=\"text-2xl font-bold text-orange-600\">\n              {authors?.length || 0}\n            </div>\n            <div className=\"text-sm text-gray-500\">Tổng tác giả</div>\n          </div>\n          <div className=\"text-center\">\n            <div className=\"text-2xl font-bold text-green-600\">{filteredAuthors.length}</div>\n            <div className=\"text-sm text-gray-500\">Hiển thị</div>\n          </div>\n          <div className=\"text-center\">\n            <div className=\"text-2xl font-bold text-purple-600\">{nationalities?.length || 0}</div>\n            <div className=\"text-sm text-gray-500\">Quốc tịch</div>\n          </div>\n          <div className=\"text-center\">\n            <div className=\"text-2xl font-bold text-orange-600\">\n              {authors?.length || 0}\n            </div>\n            <div className=\"text-sm text-gray-500\">Tổng sách</div>\n          </div>\n        </div>\n      </div>\n\n      {/* Authors List */}\n      <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\n        {filteredAuthors.length === 0 ? (\n          <div className=\"text-center py-12\">\n            <FaUser className=\"w-16 h-16 text-gray-300 mx-auto mb-4\" />\n            <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\n              {searchTerm || selectedNationality ? 'Không tìm thấy tác giả' : 'Chưa có tác giả nào'}\n            </h3>\n            <p className=\"text-gray-500 mb-6\">\n              {searchTerm || selectedNationality ? 'Thử thay đổi từ khóa tìm kiếm hoặc bộ lọc' : 'Bắt đầu bằng cách thêm tác giả mới'}\n            </p>\n            {!searchTerm && !selectedNationality && (\n              <button\n                onClick={openCreateModal}\n                className=\"inline-flex items-center px-4 py-2 bg-blue-600 text-white font-medium rounded-md hover:bg-blue-700\"\n              >\n                <FaPlus className=\"w-4 h-4 mr-2\" />\n                Thêm tác giả mới\n              </button>\n            )}\n          </div>\n        ) : (\n          <div className=\"overflow-x-auto\">\n            <table className=\"min-w-full\">\n              <thead className=\"bg-gray-50\">\n                <tr>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Tác giả\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Thông tin\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Tiểu sử\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Sách\n                  </th>\n                  <th className=\"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Hành động\n                  </th>\n                </tr>\n              </thead>\n              <tbody className=\"bg-white divide-y divide-gray-200\">\n                {filteredAuthors.map((author) => (\n                  <tr key={author._id} className=\"hover:bg-gray-50\">\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <div className=\"flex items-center\">\n                        <div className=\"flex-shrink-0 h-10 w-10\">\n                          <div className=\"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center\">\n                            <FaUser className=\"h-5 w-5 text-blue-600\" />\n                          </div>\n                        </div>\n                        <div className=\"ml-4\">\n                          <div className=\"text-sm font-medium text-gray-900\">{author.name}</div>\n                          <div className=\"text-sm text-gray-500 flex items-center mt-1\">\n                            <FaGlobe className=\"w-3 h-3 mr-1\" />\n                            {author.nationality || 'Chưa rõ'}\n                          </div>\n                        </div>\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <div className=\"text-sm text-gray-900\">\n                        {author.birthDate && (\n                          <div className=\"flex items-center mb-1\">\n                            <FaCalendar className=\"w-3 h-3 mr-1 text-gray-400\" />\n                            <span>{formatDate(author.birthDate)}</span>\n                            {calculateAge(author.birthDate) && (\n                              <span className=\"ml-2 text-gray-500\">({calculateAge(author.birthDate)} tuổi)</span>\n                            )}\n                          </div>\n                        )}\n                        <div className=\"text-xs text-gray-500\">\n                          Tạo: {formatDateTime(author.createdAt || '')}\n                        </div>\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4\">\n                      <div className=\"text-sm text-gray-600 max-w-xs\">\n                        {author.biography ? (\n                          <div className=\"truncate\">{author.biography}</div>\n                        ) : (\n                          <span className=\"text-gray-400 italic\">Chưa có tiểu sử</span>\n                        )}\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <div className=\"flex items-center text-sm text-gray-900\">\n                        <FaBook className=\"w-4 h-4 mr-1 text-green-600\" />\n                        <span className=\"font-medium\">0</span>\n                        <span className=\"text-gray-500 ml-1\">cuốn</span>\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-center\">\n                      <div className=\"flex items-center justify-center space-x-2\">\n                        <button\n                          onClick={() => openEditModal(author)}\n                          className=\"px-3 py-1 bg-blue-600 text-white text-sm font-medium rounded hover:bg-blue-700 flex items-center\"\n                        >\n                          <FaEdit className=\"w-3 h-3 mr-1\" />\n                          Sửa\n                        </button>\n                        <button\n                          onClick={() => openDeleteModal(author)}\n                          className=\"px-3 py-1 bg-red-600 text-white text-sm font-medium rounded hover:bg-red-700 flex items-center\"\n                        >\n                          <FaTrash className=\"w-3 h-3 mr-1\" />\n                          Xóa\n                        </button>\n                      </div>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        )}\n      </div>\n\n      {/* Form Modal */}\n      {isFormModalOpen && (\n        <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto\">\n            <div className=\"p-6\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <h3 className=\"text-lg font-medium text-gray-900\">\n                  {editingAuthor ? 'Chỉnh sửa tác giả' : 'Thêm tác giả mới'}\n                </h3>\n                <button\n                  onClick={closeFormModal}\n                  className=\"text-gray-400 hover:text-gray-600\"\n                >\n                  <FaTimes className=\"w-5 h-5\" />\n                </button>\n              </div>\n\n              <form onSubmit={handleFormSubmit} className=\"space-y-4\">\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                      Tên tác giả *\n                    </label>\n                    <input\n                      type=\"text\"\n                      value={formData.name}\n                      onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                      placeholder=\"Nhập tên tác giả...\"\n                      required\n                    />\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                      Quốc tịch\n                    </label>\n                    <input\n                      type=\"text\"\n                      value={formData.nationality}\n                      onChange={(e) => setFormData({ ...formData, nationality: e.target.value })}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                      placeholder=\"Nhập quốc tịch...\"\n                    />\n                  </div>\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Ngày sinh\n                  </label>\n                  <input\n                    type=\"date\"\n                    value={formData.birthDate}\n                    onChange={(e) => setFormData({ ...formData, birthDate: e.target.value })}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Tiểu sử\n                  </label>\n                  <textarea\n                    value={formData.biography}\n                    onChange={(e) => setFormData({ ...formData, biography: e.target.value })}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    placeholder=\"Nhập tiểu sử tác giả...\"\n                    rows={4}\n                  />\n                </div>\n\n                <div className=\"flex space-x-3 pt-4\">\n                  <button\n                    type=\"submit\"\n                    disabled={createMutation.isLoading || updateMutation.isLoading}\n                    className=\"flex-1 px-4 py-2 bg-blue-600 text-white font-medium rounded-md hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center\"\n                  >\n                    <FaSave className=\"w-4 h-4 mr-2\" />\n                    {createMutation.isLoading || updateMutation.isLoading ? 'Đang lưu...' : 'Lưu'}\n                  </button>\n                  <button\n                    type=\"button\"\n                    onClick={closeFormModal}\n                    className=\"flex-1 px-4 py-2 bg-gray-600 text-white font-medium rounded-md hover:bg-gray-700 flex items-center justify-center\"\n                  >\n                    <FaTimes className=\"w-4 h-4 mr-2\" />\n                    Hủy\n                  </button>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Delete Confirmation Modal */}\n      {authorToDelete && (\n        <ConfirmModal\n          isOpen={isDeleteModalOpen}\n          onClose={closeDeleteModal}\n          onConfirm={handleDeleteAuthor}\n          title=\"Xác nhận xóa tác giả\"\n          message={`Bạn có chắc chắn muốn xóa tác giả \"${authorToDelete.name}\"? Hành động này không thể hoàn tác và có thể ảnh hưởng đến các sách của tác giả này.`}\n          variant=\"danger\"\n          confirmText=\"Xóa\"\n        />\n      )}\n    </div>\n  );\n};\n\nexport default AdminAuthorManagement; "],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,QAAQ,EAAEC,WAAW,EAAEC,cAAc,QAAQ,aAAa;AACnE,OAAOC,KAAK,MAAM,iBAAiB;AACnC,SAASC,MAAM,EAAEC,OAAO,EAAEC,MAAM,EAAEC,QAAQ,EAAEC,MAAM,EAAEC,MAAM,EAAEC,OAAO,EAAEC,UAAU,EAAEC,OAAO,EAAEC,MAAM,QAAQ,gBAAgB;AAExH,SAASC,SAAS,QAA4B,qBAAqB;AACnE,OAAOC,OAAO,MAAM,iCAAiC;AACrD,SAASC,YAAY,QAAQ,+BAA+B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAM7D,MAAMC,qBAA+B,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC5C,MAAMC,WAAW,GAAGnB,cAAc,CAAC,CAAC;;EAEpC;EACA,MAAM,CAACoB,UAAU,EAAEC,aAAa,CAAC,GAAGxB,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACyB,mBAAmB,EAAEC,sBAAsB,CAAC,GAAG1B,QAAQ,CAAC,EAAE,CAAC;;EAElE;EACA,MAAM,CAAC2B,iBAAiB,EAAEC,oBAAoB,CAAC,GAAG5B,QAAQ,CAAC,KAAK,CAAC;EACjE,MAAM,CAAC6B,cAAc,EAAEC,iBAAiB,CAAC,GAAG9B,QAAQ,CAAgB,IAAI,CAAC;;EAEzE;EACA,MAAM,CAAC+B,eAAe,EAAEC,kBAAkB,CAAC,GAAGhC,QAAQ,CAAC,KAAK,CAAC;EAC7D,MAAM,CAACiC,aAAa,EAAEC,gBAAgB,CAAC,GAAGlC,QAAQ,CAAgB,IAAI,CAAC;EACvE,MAAM,CAACmC,QAAQ,EAAEC,WAAW,CAAC,GAAGpC,QAAQ,CAAiB;IACvDqC,IAAI,EAAE,EAAE;IACRC,SAAS,EAAE,EAAE;IACbC,SAAS,EAAE,EAAE;IACbC,WAAW,EAAE;EACf,CAAC,CAAC;EAEF,MAAM;IAAEC,IAAI,EAAEC,OAAO;IAAEC,SAAS;IAAEC,OAAO;IAAEC;EAAM,CAAC,GAAG5C,QAAQ,CAC3D,SAAS,EACTc,SAAS,CAAC+B,aACZ,CAAC;EAED,MAAM;IAAEL,IAAI,EAAEM;EAAc,CAAC,GAAG9C,QAAQ,CACtC,eAAe,EACfc,SAAS,CAACiC,mBACZ,CAAC;EAED,MAAMC,cAAc,GAAG/C,WAAW,CAACa,SAAS,CAACmC,YAAY,EAAE;IACzDC,SAAS,EAAEA,CAAA,KAAM;MACf/C,KAAK,CAACgD,OAAO,CAAC,yBAAyB,CAAC;MACxC9B,WAAW,CAAC+B,iBAAiB,CAAC,SAAS,CAAC;MACxCC,cAAc,CAAC,CAAC;IAClB,CAAC;IACDC,OAAO,EAAGC,GAAU,IAAK;MACvBpD,KAAK,CAACyC,KAAK,CAAC,wBAAwBW,GAAG,CAACC,OAAO,EAAE,CAAC;IACpD;EACF,CAAC,CAAC;EAEF,MAAMC,cAAc,GAAGxD,WAAW,CAChC,CAAC;IAAEyD,EAAE;IAAElB;EAAuC,CAAC,KAAK1B,SAAS,CAAC6C,YAAY,CAACD,EAAE,EAAElB,IAAI,CAAC,EACpF;IACEU,SAAS,EAAEA,CAAA,KAAM;MACf/C,KAAK,CAACgD,OAAO,CAAC,8BAA8B,CAAC;MAC7C9B,WAAW,CAAC+B,iBAAiB,CAAC,SAAS,CAAC;MACxCC,cAAc,CAAC,CAAC;IAClB,CAAC;IACDC,OAAO,EAAGC,GAAU,IAAK;MACvBpD,KAAK,CAACyC,KAAK,CAAC,6BAA6BW,GAAG,CAACC,OAAO,EAAE,CAAC;IACzD;EACF,CACF,CAAC;EAED,MAAMI,cAAc,GAAG3D,WAAW,CAACa,SAAS,CAAC+C,YAAY,EAAE;IACzDX,SAAS,EAAEA,CAAA,KAAM;MACf/C,KAAK,CAACgD,OAAO,CAAC,yBAAyB,CAAC;MACxC9B,WAAW,CAAC+B,iBAAiB,CAAC,SAAS,CAAC;MACxCU,gBAAgB,CAAC,CAAC;IACpB,CAAC;IACDR,OAAO,EAAGC,GAAU,IAAK;MACvBpD,KAAK,CAACyC,KAAK,CAAC,wBAAwBW,GAAG,CAACC,OAAO,EAAE,CAAC;MAClDM,gBAAgB,CAAC,CAAC;IACpB;EACF,CAAC,CAAC;EAEF,MAAMC,eAAe,GAAG,CAAAtB,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEuB,MAAM,CAACC,MAAM,IAAI;IAAA,IAAAC,iBAAA,EAAAC,mBAAA;IAChD,MAAMC,aAAa,GAAGH,MAAM,CAAC7B,IAAI,CAACiC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAChD,UAAU,CAAC+C,WAAW,CAAC,CAAC,CAAC,MAAAH,iBAAA,GAC7DD,MAAM,CAAC5B,SAAS,cAAA6B,iBAAA,uBAAhBA,iBAAA,CAAkBG,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAChD,UAAU,CAAC+C,WAAW,CAAC,CAAC,CAAC,OAAAF,mBAAA,GAClEF,MAAM,CAAC1B,WAAW,cAAA4B,mBAAA,uBAAlBA,mBAAA,CAAoBE,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAChD,UAAU,CAAC+C,WAAW,CAAC,CAAC,CAAC;IAEzF,MAAME,kBAAkB,GAAG,CAAC/C,mBAAmB,IAAIyC,MAAM,CAAC1B,WAAW,KAAKf,mBAAmB;IAE7F,OAAO4C,aAAa,IAAIG,kBAAkB;EAC5C,CAAC,CAAC,KAAI,EAAE;EAER,MAAMC,eAAe,GAAGA,CAAA,KAAM;IAC5BvC,gBAAgB,CAAC,IAAI,CAAC;IACtBE,WAAW,CAAC;MAAEC,IAAI,EAAE,EAAE;MAAEC,SAAS,EAAE,EAAE;MAAEC,SAAS,EAAE,EAAE;MAAEC,WAAW,EAAE;IAAG,CAAC,CAAC;IACxER,kBAAkB,CAAC,IAAI,CAAC;EAC1B,CAAC;EAED,MAAM0C,aAAa,GAAIR,MAAc,IAAK;IACxChC,gBAAgB,CAACgC,MAAM,CAAC;IACxB9B,WAAW,CAAC;MACVuC,GAAG,EAAET,MAAM,CAACS,GAAG;MACftC,IAAI,EAAE6B,MAAM,CAAC7B,IAAI;MACjBC,SAAS,EAAE4B,MAAM,CAAC5B,SAAS,IAAI,EAAE;MACjCC,SAAS,EAAE2B,MAAM,CAAC3B,SAAS,IAAI,EAAE;MACjCC,WAAW,EAAE0B,MAAM,CAAC1B,WAAW,IAAI;IACrC,CAAC,CAAC;IACFR,kBAAkB,CAAC,IAAI,CAAC;EAC1B,CAAC;EAED,MAAMsB,cAAc,GAAGA,CAAA,KAAM;IAC3BtB,kBAAkB,CAAC,KAAK,CAAC;IACzBE,gBAAgB,CAAC,IAAI,CAAC;IACtBE,WAAW,CAAC;MAAEC,IAAI,EAAE,EAAE;MAAEC,SAAS,EAAE,EAAE;MAAEC,SAAS,EAAE,EAAE;MAAEC,WAAW,EAAE;IAAG,CAAC,CAAC;EAC1E,CAAC;EAED,MAAMoC,eAAe,GAAIV,MAAc,IAAK;IAC1CpC,iBAAiB,CAACoC,MAAM,CAAC;IACzBtC,oBAAoB,CAAC,IAAI,CAAC;EAC5B,CAAC;EAED,MAAMmC,gBAAgB,GAAGA,CAAA,KAAM;IAC7BjC,iBAAiB,CAAC,IAAI,CAAC;IACvBF,oBAAoB,CAAC,KAAK,CAAC;EAC7B,CAAC;EAED,MAAMiD,gBAAgB,GAAIC,CAAkB,IAAK;IAAA,IAAAC,mBAAA,EAAAC,qBAAA;IAC/CF,CAAC,CAACG,cAAc,CAAC,CAAC;IAElB,IAAI,CAAC9C,QAAQ,CAACE,IAAI,CAAC6C,IAAI,CAAC,CAAC,EAAE;MACzB9E,KAAK,CAACyC,KAAK,CAAC,iCAAiC,CAAC;MAC9C;IACF;IAEA,MAAMsC,UAAsB,GAAG;MAC7B9C,IAAI,EAAEF,QAAQ,CAACE,IAAI,CAAC6C,IAAI,CAAC,CAAC;MAC1B5C,SAAS,EAAE,EAAAyC,mBAAA,GAAA5C,QAAQ,CAACG,SAAS,cAAAyC,mBAAA,uBAAlBA,mBAAA,CAAoBG,IAAI,CAAC,CAAC,KAAI,EAAE;MAC3C3C,SAAS,EAAEJ,QAAQ,CAACI,SAAS,IAAI,EAAE;MACnCC,WAAW,EAAE,EAAAwC,qBAAA,GAAA7C,QAAQ,CAACK,WAAW,cAAAwC,qBAAA,uBAApBA,qBAAA,CAAsBE,IAAI,CAAC,CAAC,KAAI;IAC/C,CAAC;IAED,IAAIjD,aAAa,EAAE;MACjByB,cAAc,CAAC0B,MAAM,CAAC;QAAEzB,EAAE,EAAE1B,aAAa,CAAC0C,GAAG;QAAElC,IAAI,EAAE0C;MAAW,CAAC,CAAC;IACpE,CAAC,MAAM;MACLlC,cAAc,CAACmC,MAAM,CAACD,UAAU,CAAC;IACnC;EACF,CAAC;EAED,MAAME,kBAAkB,GAAGA,CAAA,KAAM;IAC/B,IAAIxD,cAAc,EAAE;MAClBgC,cAAc,CAACuB,MAAM,CAACvD,cAAc,CAAC8C,GAAG,CAAC;IAC3C;EACF,CAAC;EAED,MAAMW,UAAU,GAAIC,UAAkB,IAAK;IACzC,IAAI,CAACA,UAAU,EAAE,OAAO,GAAG;IAC3B,OAAO,IAAIC,IAAI,CAACD,UAAU,CAAC,CAACE,kBAAkB,CAAC,OAAO,CAAC;EACzD,CAAC;EAED,MAAMC,cAAc,GAAIH,UAAkB,IAAK;IAC7C,IAAI,CAACA,UAAU,EAAE,OAAO,GAAG;IAC3B,OAAO,IAAIC,IAAI,CAACD,UAAU,CAAC,CAACI,cAAc,CAAC,OAAO,CAAC;EACrD,CAAC;EAED,MAAMC,YAAY,GAAIrD,SAAiB,IAAK;IAC1C,IAAI,CAACA,SAAS,EAAE,OAAO,IAAI;IAC3B,MAAMsD,KAAK,GAAG,IAAIL,IAAI,CAAC,CAAC;IACxB,MAAMM,KAAK,GAAG,IAAIN,IAAI,CAACjD,SAAS,CAAC;IACjC,MAAMwD,GAAG,GAAGF,KAAK,CAACG,WAAW,CAAC,CAAC,GAAGF,KAAK,CAACE,WAAW,CAAC,CAAC;IACrD,MAAMC,SAAS,GAAGJ,KAAK,CAACK,QAAQ,CAAC,CAAC,GAAGJ,KAAK,CAACI,QAAQ,CAAC,CAAC;IAErD,IAAID,SAAS,GAAG,CAAC,IAAKA,SAAS,KAAK,CAAC,IAAIJ,KAAK,CAACM,OAAO,CAAC,CAAC,GAAGL,KAAK,CAACK,OAAO,CAAC,CAAE,EAAE;MAC3E,OAAOJ,GAAG,GAAG,CAAC;IAChB;IACA,OAAOA,GAAG;EACZ,CAAC;EAED,IAAIpD,SAAS,EAAE,oBAAOxB,OAAA,CAACH,OAAO;IAACoF,IAAI,EAAC;EAA+B;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAAC;EACtE,IAAI5D,OAAO,EAAE,oBAAOzB,OAAA;IAAKsF,SAAS,EAAC,cAAc;IAAAC,QAAA,GAAC,YAAK,EAAE7D,KAAK,CAAWY,OAAO;EAAA;IAAA4C,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAM,CAAC;EAEvF,oBACErF,OAAA;IAAKsF,SAAS,EAAC,WAAW;IAAAC,QAAA,gBAExBvF,OAAA;MAAKsF,SAAS,EAAC,8DAA8D;MAAAC,QAAA,gBAC3EvF,OAAA;QAAAuF,QAAA,gBACEvF,OAAA;UAAIsF,SAAS,EAAC,kCAAkC;UAAAC,QAAA,EAAC;QAAe;UAAAL,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACrErF,OAAA;UAAGsF,SAAS,EAAC,oBAAoB;UAAAC,QAAA,EAC9BhE,OAAO,GAAG,GAAGA,OAAO,CAACiE,MAAM,UAAU,GAAG;QAAa;UAAAN,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACrD,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACD,CAAC,eACNrF,OAAA;QACEyF,OAAO,EAAEnC,eAAgB;QACzBgC,SAAS,EAAC,0GAA0G;QAAAC,QAAA,gBAEpHvF,OAAA,CAACZ,MAAM;UAACkG,SAAS,EAAC;QAAc;UAAAJ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,oCAErC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC,eAGNrF,OAAA;MAAKsF,SAAS,EAAC,0DAA0D;MAAAC,QAAA,gBACvEvF,OAAA;QAAKsF,SAAS,EAAC,4CAA4C;QAAAC,QAAA,gBAEzDvF,OAAA;UAAKsF,SAAS,EAAC,eAAe;UAAAC,QAAA,eAC5BvF,OAAA;YAAKsF,SAAS,EAAC,UAAU;YAAAC,QAAA,gBACvBvF,OAAA,CAACX,QAAQ;cAACiG,SAAS,EAAC;YAA0E;cAAAJ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,eACjGrF,OAAA;cACE0F,IAAI,EAAC,MAAM;cACXC,KAAK,EAAEvF,UAAW;cAClBwF,QAAQ,EAAGjC,CAAC,IAAKtD,aAAa,CAACsD,CAAC,CAACkC,MAAM,CAACF,KAAK,CAAE;cAC/CG,WAAW,EAAC,yFAAkD;cAC9DR,SAAS,EAAC;YAAiH;cAAAJ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC5H,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAGNrF,OAAA;UAAAuF,QAAA,eACEvF,OAAA;YACE2F,KAAK,EAAErF,mBAAoB;YAC3BsF,QAAQ,EAAGjC,CAAC,IAAKpD,sBAAsB,CAACoD,CAAC,CAACkC,MAAM,CAACF,KAAK,CAAE;YACxDL,SAAS,EAAC,2GAA2G;YAAAC,QAAA,gBAErHvF,OAAA;cAAQ2F,KAAK,EAAC,EAAE;cAAAJ,QAAA,EAAC;YAAgB;cAAAL,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,EACzCzD,aAAa,aAAbA,aAAa,uBAAbA,aAAa,CAAEmE,GAAG,CAAE1E,WAAW,iBAC9BrB,OAAA;cAA0B2F,KAAK,EAAEtE,WAAY;cAAAkE,QAAA,EAC1ClE;YAAW,GADDA,WAAW;cAAA6D,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAEhB,CACT,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACI;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAGNrF,OAAA;QAAKsF,SAAS,EAAC,qEAAqE;QAAAC,QAAA,gBAClFvF,OAAA;UAAKsF,SAAS,EAAC,aAAa;UAAAC,QAAA,gBAC1BvF,OAAA;YAAKsF,SAAS,EAAC,oCAAoC;YAAAC,QAAA,EAChD,CAAAhE,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEiE,MAAM,KAAI;UAAC;YAAAN,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAClB,CAAC,eACNrF,OAAA;YAAKsF,SAAS,EAAC,uBAAuB;YAAAC,QAAA,EAAC;UAAY;YAAAL,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACtD,CAAC,eACNrF,OAAA;UAAKsF,SAAS,EAAC,aAAa;UAAAC,QAAA,gBAC1BvF,OAAA;YAAKsF,SAAS,EAAC,mCAAmC;YAAAC,QAAA,EAAE1C,eAAe,CAAC2C;UAAM;YAAAN,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eACjFrF,OAAA;YAAKsF,SAAS,EAAC,uBAAuB;YAAAC,QAAA,EAAC;UAAQ;YAAAL,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAClD,CAAC,eACNrF,OAAA;UAAKsF,SAAS,EAAC,aAAa;UAAAC,QAAA,gBAC1BvF,OAAA;YAAKsF,SAAS,EAAC,oCAAoC;YAAAC,QAAA,EAAE,CAAA3D,aAAa,aAAbA,aAAa,uBAAbA,aAAa,CAAE4D,MAAM,KAAI;UAAC;YAAAN,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eACtFrF,OAAA;YAAKsF,SAAS,EAAC,uBAAuB;YAAAC,QAAA,EAAC;UAAS;YAAAL,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACnD,CAAC,eACNrF,OAAA;UAAKsF,SAAS,EAAC,aAAa;UAAAC,QAAA,gBAC1BvF,OAAA;YAAKsF,SAAS,EAAC,oCAAoC;YAAAC,QAAA,EAChD,CAAAhE,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEiE,MAAM,KAAI;UAAC;YAAAN,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAClB,CAAC,eACNrF,OAAA;YAAKsF,SAAS,EAAC,uBAAuB;YAAAC,QAAA,EAAC;UAAS;YAAAL,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACnD,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAGNrF,OAAA;MAAKsF,SAAS,EAAC,sDAAsD;MAAAC,QAAA,EAClE1C,eAAe,CAAC2C,MAAM,KAAK,CAAC,gBAC3BxF,OAAA;QAAKsF,SAAS,EAAC,mBAAmB;QAAAC,QAAA,gBAChCvF,OAAA,CAACV,MAAM;UAACgG,SAAS,EAAC;QAAsC;UAAAJ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eAC3DrF,OAAA;UAAIsF,SAAS,EAAC,wCAAwC;UAAAC,QAAA,EACnDnF,UAAU,IAAIE,mBAAmB,GAAG,wBAAwB,GAAG;QAAqB;UAAA4E,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACnF,CAAC,eACLrF,OAAA;UAAGsF,SAAS,EAAC,oBAAoB;UAAAC,QAAA,EAC9BnF,UAAU,IAAIE,mBAAmB,GAAG,2CAA2C,GAAG;QAAoC;UAAA4E,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACtH,CAAC,EACH,CAACjF,UAAU,IAAI,CAACE,mBAAmB,iBAClCN,OAAA;UACEyF,OAAO,EAAEnC,eAAgB;UACzBgC,SAAS,EAAC,oGAAoG;UAAAC,QAAA,gBAE9GvF,OAAA,CAACZ,MAAM;YAACkG,SAAS,EAAC;UAAc;YAAAJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,oCAErC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CACT;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,gBAENrF,OAAA;QAAKsF,SAAS,EAAC,iBAAiB;QAAAC,QAAA,eAC9BvF,OAAA;UAAOsF,SAAS,EAAC,YAAY;UAAAC,QAAA,gBAC3BvF,OAAA;YAAOsF,SAAS,EAAC,YAAY;YAAAC,QAAA,eAC3BvF,OAAA;cAAAuF,QAAA,gBACEvF,OAAA;gBAAIsF,SAAS,EAAC,gFAAgF;gBAAAC,QAAA,EAAC;cAE/F;gBAAAL,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACLrF,OAAA;gBAAIsF,SAAS,EAAC,gFAAgF;gBAAAC,QAAA,EAAC;cAE/F;gBAAAL,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACLrF,OAAA;gBAAIsF,SAAS,EAAC,gFAAgF;gBAAAC,QAAA,EAAC;cAE/F;gBAAAL,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACLrF,OAAA;gBAAIsF,SAAS,EAAC,gFAAgF;gBAAAC,QAAA,EAAC;cAE/F;gBAAAL,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACLrF,OAAA;gBAAIsF,SAAS,EAAC,kFAAkF;gBAAAC,QAAA,EAAC;cAEjG;gBAAAL,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACA,CAAC,eACRrF,OAAA;YAAOsF,SAAS,EAAC,mCAAmC;YAAAC,QAAA,EACjD1C,eAAe,CAACkD,GAAG,CAAEhD,MAAM,iBAC1B/C,OAAA;cAAqBsF,SAAS,EAAC,kBAAkB;cAAAC,QAAA,gBAC/CvF,OAAA;gBAAIsF,SAAS,EAAC,6BAA6B;gBAAAC,QAAA,eACzCvF,OAAA;kBAAKsF,SAAS,EAAC,mBAAmB;kBAAAC,QAAA,gBAChCvF,OAAA;oBAAKsF,SAAS,EAAC,yBAAyB;oBAAAC,QAAA,eACtCvF,OAAA;sBAAKsF,SAAS,EAAC,qEAAqE;sBAAAC,QAAA,eAClFvF,OAAA,CAACV,MAAM;wBAACgG,SAAS,EAAC;sBAAuB;wBAAAJ,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAE;oBAAC;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACzC;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACH,CAAC,eACNrF,OAAA;oBAAKsF,SAAS,EAAC,MAAM;oBAAAC,QAAA,gBACnBvF,OAAA;sBAAKsF,SAAS,EAAC,mCAAmC;sBAAAC,QAAA,EAAExC,MAAM,CAAC7B;oBAAI;sBAAAgE,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAM,CAAC,eACtErF,OAAA;sBAAKsF,SAAS,EAAC,8CAA8C;sBAAAC,QAAA,gBAC3DvF,OAAA,CAACN,OAAO;wBAAC4F,SAAS,EAAC;sBAAc;wBAAAJ,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAE,CAAC,EACnCtC,MAAM,CAAC1B,WAAW,IAAI,SAAS;oBAAA;sBAAA6D,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAC7B,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACH,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACH;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACJ,CAAC,eACLrF,OAAA;gBAAIsF,SAAS,EAAC,6BAA6B;gBAAAC,QAAA,eACzCvF,OAAA;kBAAKsF,SAAS,EAAC,uBAAuB;kBAAAC,QAAA,GACnCxC,MAAM,CAAC3B,SAAS,iBACfpB,OAAA;oBAAKsF,SAAS,EAAC,wBAAwB;oBAAAC,QAAA,gBACrCvF,OAAA,CAACP,UAAU;sBAAC6F,SAAS,EAAC;oBAA4B;sBAAAJ,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAE,CAAC,eACrDrF,OAAA;sBAAAuF,QAAA,EAAOpB,UAAU,CAACpB,MAAM,CAAC3B,SAAS;oBAAC;sBAAA8D,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAO,CAAC,EAC1CZ,YAAY,CAAC1B,MAAM,CAAC3B,SAAS,CAAC,iBAC7BpB,OAAA;sBAAMsF,SAAS,EAAC,oBAAoB;sBAAAC,QAAA,GAAC,GAAC,EAACd,YAAY,CAAC1B,MAAM,CAAC3B,SAAS,CAAC,EAAC,aAAM;oBAAA;sBAAA8D,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAM,CACnF;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACE,CACN,eACDrF,OAAA;oBAAKsF,SAAS,EAAC,uBAAuB;oBAAAC,QAAA,GAAC,YAChC,EAAChB,cAAc,CAACxB,MAAM,CAACiD,SAAS,IAAI,EAAE,CAAC;kBAAA;oBAAAd,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACzC,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACH;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACJ,CAAC,eACLrF,OAAA;gBAAIsF,SAAS,EAAC,WAAW;gBAAAC,QAAA,eACvBvF,OAAA;kBAAKsF,SAAS,EAAC,gCAAgC;kBAAAC,QAAA,EAC5CxC,MAAM,CAAC5B,SAAS,gBACfnB,OAAA;oBAAKsF,SAAS,EAAC,UAAU;oBAAAC,QAAA,EAAExC,MAAM,CAAC5B;kBAAS;oBAAA+D,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CAAC,gBAElDrF,OAAA;oBAAMsF,SAAS,EAAC,sBAAsB;oBAAAC,QAAA,EAAC;kBAAe;oBAAAL,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM;gBAC7D;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACE;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACJ,CAAC,eACLrF,OAAA;gBAAIsF,SAAS,EAAC,6BAA6B;gBAAAC,QAAA,eACzCvF,OAAA;kBAAKsF,SAAS,EAAC,yCAAyC;kBAAAC,QAAA,gBACtDvF,OAAA,CAACL,MAAM;oBAAC2F,SAAS,EAAC;kBAA6B;oBAAAJ,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE,CAAC,eAClDrF,OAAA;oBAAMsF,SAAS,EAAC,aAAa;oBAAAC,QAAA,EAAC;kBAAC;oBAAAL,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CAAC,eACtCrF,OAAA;oBAAMsF,SAAS,EAAC,oBAAoB;oBAAAC,QAAA,EAAC;kBAAI;oBAAAL,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC7C;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACJ,CAAC,eACLrF,OAAA;gBAAIsF,SAAS,EAAC,yCAAyC;gBAAAC,QAAA,eACrDvF,OAAA;kBAAKsF,SAAS,EAAC,4CAA4C;kBAAAC,QAAA,gBACzDvF,OAAA;oBACEyF,OAAO,EAAEA,CAAA,KAAMlC,aAAa,CAACR,MAAM,CAAE;oBACrCuC,SAAS,EAAC,kGAAkG;oBAAAC,QAAA,gBAE5GvF,OAAA,CAACd,MAAM;sBAACoG,SAAS,EAAC;oBAAc;sBAAAJ,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAE,CAAC,YAErC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CAAC,eACTrF,OAAA;oBACEyF,OAAO,EAAEA,CAAA,KAAMhC,eAAe,CAACV,MAAM,CAAE;oBACvCuC,SAAS,EAAC,gGAAgG;oBAAAC,QAAA,gBAE1GvF,OAAA,CAACb,OAAO;sBAACmG,SAAS,EAAC;oBAAc;sBAAAJ,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAE,CAAC,UAEtC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACN;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACJ,CAAC;YAAA,GAlEEtC,MAAM,CAACS,GAAG;cAAA0B,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAmEf,CACL;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACG,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL;IACN;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC,EAGLzE,eAAe,iBACdZ,OAAA;MAAKsF,SAAS,EAAC,+EAA+E;MAAAC,QAAA,eAC5FvF,OAAA;QAAKsF,SAAS,EAAC,kFAAkF;QAAAC,QAAA,eAC/FvF,OAAA;UAAKsF,SAAS,EAAC,KAAK;UAAAC,QAAA,gBAClBvF,OAAA;YAAKsF,SAAS,EAAC,wCAAwC;YAAAC,QAAA,gBACrDvF,OAAA;cAAIsF,SAAS,EAAC,mCAAmC;cAAAC,QAAA,EAC9CzE,aAAa,GAAG,mBAAmB,GAAG;YAAkB;cAAAoE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACvD,CAAC,eACLrF,OAAA;cACEyF,OAAO,EAAEtD,cAAe;cACxBmD,SAAS,EAAC,mCAAmC;cAAAC,QAAA,eAE7CvF,OAAA,CAACR,OAAO;gBAAC8F,SAAS,EAAC;cAAS;gBAAAJ,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACzB,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC,eAENrF,OAAA;YAAMiG,QAAQ,EAAEvC,gBAAiB;YAAC4B,SAAS,EAAC,WAAW;YAAAC,QAAA,gBACrDvF,OAAA;cAAKsF,SAAS,EAAC,uCAAuC;cAAAC,QAAA,gBACpDvF,OAAA;gBAAAuF,QAAA,gBACEvF,OAAA;kBAAOsF,SAAS,EAAC,8CAA8C;kBAAAC,QAAA,EAAC;gBAEhE;kBAAAL,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC,eACRrF,OAAA;kBACE0F,IAAI,EAAC,MAAM;kBACXC,KAAK,EAAE3E,QAAQ,CAACE,IAAK;kBACrB0E,QAAQ,EAAGjC,CAAC,IAAK1C,WAAW,CAAC;oBAAE,GAAGD,QAAQ;oBAAEE,IAAI,EAAEyC,CAAC,CAACkC,MAAM,CAACF;kBAAM,CAAC,CAAE;kBACpEL,SAAS,EAAC,2GAA2G;kBACrHQ,WAAW,EAAC,qCAAqB;kBACjCI,QAAQ;gBAAA;kBAAAhB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACT,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACC,CAAC,eAENrF,OAAA;gBAAAuF,QAAA,gBACEvF,OAAA;kBAAOsF,SAAS,EAAC,8CAA8C;kBAAAC,QAAA,EAAC;gBAEhE;kBAAAL,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC,eACRrF,OAAA;kBACE0F,IAAI,EAAC,MAAM;kBACXC,KAAK,EAAE3E,QAAQ,CAACK,WAAY;kBAC5BuE,QAAQ,EAAGjC,CAAC,IAAK1C,WAAW,CAAC;oBAAE,GAAGD,QAAQ;oBAAEK,WAAW,EAAEsC,CAAC,CAACkC,MAAM,CAACF;kBAAM,CAAC,CAAE;kBAC3EL,SAAS,EAAC,2GAA2G;kBACrHQ,WAAW,EAAC;gBAAmB;kBAAAZ,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAChC,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACC,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC,eAENrF,OAAA;cAAAuF,QAAA,gBACEvF,OAAA;gBAAOsF,SAAS,EAAC,8CAA8C;gBAAAC,QAAA,EAAC;cAEhE;gBAAAL,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eACRrF,OAAA;gBACE0F,IAAI,EAAC,MAAM;gBACXC,KAAK,EAAE3E,QAAQ,CAACI,SAAU;gBAC1BwE,QAAQ,EAAGjC,CAAC,IAAK1C,WAAW,CAAC;kBAAE,GAAGD,QAAQ;kBAAEI,SAAS,EAAEuC,CAAC,CAACkC,MAAM,CAACF;gBAAM,CAAC,CAAE;gBACzEL,SAAS,EAAC;cAA2G;gBAAAJ,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACtH,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC,CAAC,eAENrF,OAAA;cAAAuF,QAAA,gBACEvF,OAAA;gBAAOsF,SAAS,EAAC,8CAA8C;gBAAAC,QAAA,EAAC;cAEhE;gBAAAL,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eACRrF,OAAA;gBACE2F,KAAK,EAAE3E,QAAQ,CAACG,SAAU;gBAC1ByE,QAAQ,EAAGjC,CAAC,IAAK1C,WAAW,CAAC;kBAAE,GAAGD,QAAQ;kBAAEG,SAAS,EAAEwC,CAAC,CAACkC,MAAM,CAACF;gBAAM,CAAC,CAAE;gBACzEL,SAAS,EAAC,2GAA2G;gBACrHQ,WAAW,EAAC,gDAAyB;gBACrCK,IAAI,EAAE;cAAE;gBAAAjB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACT,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC,CAAC,eAENrF,OAAA;cAAKsF,SAAS,EAAC,qBAAqB;cAAAC,QAAA,gBAClCvF,OAAA;gBACE0F,IAAI,EAAC,QAAQ;gBACbU,QAAQ,EAAEtE,cAAc,CAACN,SAAS,IAAIe,cAAc,CAACf,SAAU;gBAC/D8D,SAAS,EAAC,uIAAuI;gBAAAC,QAAA,gBAEjJvF,OAAA,CAACT,MAAM;kBAAC+F,SAAS,EAAC;gBAAc;kBAAAJ,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC,EAClCvD,cAAc,CAACN,SAAS,IAAIe,cAAc,CAACf,SAAS,GAAG,aAAa,GAAG,KAAK;cAAA;gBAAA0D,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACvE,CAAC,eACTrF,OAAA;gBACE0F,IAAI,EAAC,QAAQ;gBACbD,OAAO,EAAEtD,cAAe;gBACxBmD,SAAS,EAAC,mHAAmH;gBAAAC,QAAA,gBAE7HvF,OAAA,CAACR,OAAO;kBAAC8F,SAAS,EAAC;gBAAc;kBAAAJ,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC,YAEtC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACF,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACJ;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN,EAGA3E,cAAc,iBACbV,OAAA,CAACF,YAAY;MACXuG,MAAM,EAAE7F,iBAAkB;MAC1B8F,OAAO,EAAE1D,gBAAiB;MAC1B2D,SAAS,EAAErC,kBAAmB;MAC9BsC,KAAK,EAAC,yCAAsB;MAC5BlE,OAAO,EAAE,sCAAsC5B,cAAc,CAACQ,IAAI,uFAAwF;MAC1JuF,OAAO,EAAC,QAAQ;MAChBC,WAAW,EAAC;IAAK;MAAAxB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAClB,CACF;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC;AAACnF,EAAA,CA1dID,qBAA+B;EAAA,QACfjB,cAAc,EAoBmBF,QAAQ,EAK7BA,QAAQ,EAKjBC,WAAW,EAWXA,WAAW,EAcXA,WAAW;AAAA;AAAA4H,EAAA,GAxD9B1G,qBAA+B;AA4drC,eAAeA,qBAAqB;AAAC,IAAA0G,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}