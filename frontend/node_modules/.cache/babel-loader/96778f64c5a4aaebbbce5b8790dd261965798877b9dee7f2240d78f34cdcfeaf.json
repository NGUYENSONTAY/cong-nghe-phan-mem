{"ast":null,"code":"import React,{useState}from'react';import{useQuery}from'react-query';import{categoryAPI}from'../../api/categoryAPI';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const FilterSidebar=_ref=>{let{onFilterChange,initialFilters}=_ref;const[filters,setFilters]=useState(initialFilters);const[minPrice,setMinPrice]=useState(initialFilters.minPrice||'');const[maxPrice,setMaxPrice]=useState(initialFilters.maxPrice||'');const{data:categories=[],isLoading:isLoadingCategories}=useQuery('categories',categoryAPI.getAllCategories);const handleFilterChange=(key,value)=>{// Create a copy of the current filters\nconst newFilters={...filters};// If the value is empty, remove the key from the filter\nif(value===''||value===null||value===undefined){delete newFilters[key];}else{newFilters[key]=value;}// Reset page to 1 when filters change\nnewFilters.page=1;setFilters(newFilters);onFilterChange(newFilters);};const handlePriceChange=()=>{let newFilters={...filters,page:1};if(minPrice)newFilters.minPrice=minPrice;else delete newFilters.minPrice;if(maxPrice)newFilters.maxPrice=maxPrice;else delete newFilters.maxPrice;setFilters(newFilters);onFilterChange(newFilters);};const clearFilters=()=>{const clearedFilters={};setFilters(clearedFilters);setMinPrice('');setMaxPrice('');onFilterChange(clearedFilters);};return/*#__PURE__*/_jsxs(\"aside\",{className:\"w-full lg:w-64 xl:w-72 space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 bg-white rounded-lg shadow-sm border\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold mb-3\",children:\"Danh m\\u1EE5c\"}),isLoadingCategories?/*#__PURE__*/_jsx(\"p\",{children:\"\\u0110ang t\\u1EA3i...\"}):/*#__PURE__*/_jsxs(\"ul\",{className:\"space-y-2 max-h-60 overflow-y-auto\",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center space-x-2 cursor-pointer\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"category\",value:\"\",checked:!filters.category,onChange:()=>handleFilterChange('category',''),className:\"radio radio-primary radio-sm\"}),/*#__PURE__*/_jsx(\"span\",{children:\"T\\u1EA5t c\\u1EA3\"})]})}),categories.map(category=>/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center space-x-2 cursor-pointer\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"category\",value:category._id,checked:filters.category===category._id,onChange:()=>handleFilterChange('category',category._id),className:\"radio radio-primary radio-sm\"}),/*#__PURE__*/_jsx(\"span\",{children:category.name})]})},category._id))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 bg-white rounded-lg shadow-sm border\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold mb-3\",children:\"Gi\\xE1\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"T\\u1EEB\",value:minPrice,onChange:e=>setMinPrice(e.target.value),className:\"input input-bordered w-full input-sm\"}),/*#__PURE__*/_jsx(\"span\",{children:\"-\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"\\u0110\\u1EBFn\",value:maxPrice,onChange:e=>setMaxPrice(e.target.value),className:\"input input-bordered w-full input-sm\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handlePriceChange,className:\"btn btn-sm btn-outline w-full mt-3\",children:\"\\xC1p d\\u1EE5ng\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:clearFilters,className:\"btn btn-outline btn-sm w-full\",children:\"X\\xF3a b\\u1ED9 l\\u1ECDc\"})]});};export default FilterSidebar;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}