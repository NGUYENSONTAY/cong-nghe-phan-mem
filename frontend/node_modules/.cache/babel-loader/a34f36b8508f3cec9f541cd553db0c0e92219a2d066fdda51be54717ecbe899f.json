{"ast":null,"code":"import React from'react';import{useNavigate}from'react-router-dom';import{useMutation,useQueryClient}from'react-query';import{toast}from'react-toastify';import BookForm from'../../components/admin/BookForm';import{booksAPI}from'../../api/booksAPI';import{Link}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AddBook=()=>{const navigate=useNavigate();const queryClient=useQueryClient();const{mutateAsync,isLoading}=useMutation(booksAPI.createBook,{onSuccess:()=>{queryClient.invalidateQueries('adminBooks');toast.success('Thêm sách mới thành công!');navigate('/admin/books');},onError:error=>{toast.error(`Lỗi khi thêm sách: ${error.message}`);}});const handleAddBook=async data=>{await mutateAsync(data);};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(Link,{to:\"/admin/books\",className:\"text-indigo-600 hover:text-indigo-900\",children:\"\\u2190 Quay l\\u1EA1i danh s\\xE1ch\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-800 mt-2\",children:\"Th\\xEAm S\\xE1ch M\\u1EDBi\"})]}),/*#__PURE__*/_jsx(BookForm,{onSubmit:handleAddBook,isSubmitting:isLoading,submitButtonText:\"Th\\xEAm S\\xE1ch\"})]});};export default AddBook;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}