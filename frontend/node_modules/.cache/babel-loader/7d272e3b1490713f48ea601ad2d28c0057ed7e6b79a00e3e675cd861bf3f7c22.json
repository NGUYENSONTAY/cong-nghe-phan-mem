{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{booksAPI}from'../api/booksAPI';import{categoryAPI}from'../api/categoryAPI';import BookCard from'../components/common/BookCard';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const HomePage=()=>{const[latestBooks,setLatestBooks]=useState([]);const[bestSellers,setBestSellers]=useState([]);const[categories,setCategories]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{const fetchData=async()=>{try{setLoading(true);const[latestBooksData,bestSellersData,categoriesData]=await Promise.all([booksAPI.getLatestBooks(8),booksAPI.getBestSellers(4),categoryAPI.getAllCategories()]);setLatestBooks(latestBooksData);setBestSellers(bestSellersData);setCategories(categoriesData.slice(0,6));// Lấy 6 danh mục đầu tiên\n}catch(error){console.error(\"Failed to fetch homepage data:\",error);// You might want to show a toast notification here\n}finally{setLoading(false);}};fetchData();},[]);const renderBookSkeletons=count=>{return/*#__PURE__*/_jsx(\"div\",{className:`grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8`,children:Array.from({length:count}).map((_,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"book-card animate-pulse\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-300 h-64 w-full rounded-lg\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-4 bg-gray-300 rounded w-3/4 mb-2\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h-4 bg-gray-300 rounded w-1/2\"})]})]},index))});};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen\",children:[/*#__PURE__*/_jsx(\"section\",{className:\"bg-gradient-to-r from-primary-600 to-purple-600 text-white py-20\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto px-4 text-center\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl md:text-6xl font-bold mb-6\",children:\"Kh\\xE1m Ph\\xE1 Th\\u1EBF Gi\\u1EDBi S\\xE1ch\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xl md:text-2xl mb-8 opacity-90\",children:\"H\\xE0ng ng\\xE0n \\u0111\\u1EA7u s\\xE1ch ch\\u1EA5t l\\u01B0\\u1EE3ng t\\u1EEB c\\xE1c t\\xE1c gi\\u1EA3 n\\u1ED5i ti\\u1EBFng trong v\\xE0 ngo\\xE0i n\\u01B0\\u1EDBc\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row gap-4 justify-center\",children:[/*#__PURE__*/_jsx(Link,{to:\"/books\",className:\"btn btn-lg bg-white text-primary-600 hover:bg-gray-100\",children:\"Kh\\xE1m ph\\xE1 ngay\"}),/*#__PURE__*/_jsx(Link,{to:\"/books?filter=bestseller\",className:\"btn btn-lg border-white text-white hover:bg-white hover:text-primary-600\",children:\"S\\xE1ch b\\xE1n ch\\u1EA1y\"})]})]})}),/*#__PURE__*/_jsx(\"section\",{className:\"py-16 bg-white\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container mx-auto px-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-primary-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-8 w-8 text-primary-600\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253\"})})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold mb-2\",children:\"S\\xE1ch Ch\\u1EA5t L\\u01B0\\u1EE3ng\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"H\\xE0ng ng\\xE0n \\u0111\\u1EA7u s\\xE1ch \\u0111\\u01B0\\u1EE3c tuy\\u1EC3n ch\\u1ECDn k\\u1EF9 l\\u01B0\\u1EE1ng t\\u1EEB c\\xE1c nh\\xE0 xu\\u1EA5t b\\u1EA3n uy t\\xEDn.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-primary-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-8 w-8 text-primary-600\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4\"})})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold mb-2\",children:\"Giao H\\xE0ng Nhanh\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Giao h\\xE0ng nhanh ch\\xF3ng trong v\\xF2ng 24-48h t\\u1EA1i TP.HCM v\\xE0 c\\xE1c t\\u1EC9nh th\\xE0nh.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-primary-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-8 w-8 text-primary-600\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"})})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold mb-2\",children:\"\\u0110\\u1EA3m B\\u1EA3o Ch\\u1EA5t L\\u01B0\\u1EE3ng\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Cam k\\u1EBFt 100% s\\xE1ch ch\\xEDnh h\\xE3ng, h\\u1ED7 tr\\u1EE3 \\u0111\\u1ED5i tr\\u1EA3 trong 7 ng\\xE0y.\"})]})]})})}),/*#__PURE__*/_jsx(\"section\",{className:\"py-16 bg-gray-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto px-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-12\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold mb-4\",children:\"S\\xE1ch M\\u1EDBi Nh\\u1EA5t\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 max-w-2xl mx-auto\",children:\"Nh\\u1EEFng cu\\u1ED1n s\\xE1ch v\\u1EEBa \\u0111\\u01B0\\u1EE3c ph\\xE1t h\\xE0nh, \\u0111ang ch\\u1EDD b\\u1EA1n kh\\xE1m ph\\xE1.\"})]}),loading?renderBookSkeletons(8):/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 mb-8\",children:latestBooks.map(book=>/*#__PURE__*/_jsx(BookCard,{book:book},book._id))}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsx(Link,{to:\"/books\",className:\"btn btn-outline\",children:\"Xem t\\u1EA5t c\\u1EA3 s\\xE1ch\"})})]})}),/*#__PURE__*/_jsx(\"section\",{className:\"py-16 bg-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto px-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-12\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold mb-4\",children:\"S\\xE1ch B\\xE1n Ch\\u1EA1y\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 max-w-2xl mx-auto\",children:\"Top nh\\u1EEFng cu\\u1ED1n s\\xE1ch \\u0111\\u01B0\\u1EE3c \\u0111\\u1ED9c gi\\u1EA3 y\\xEAu th\\xEDch v\\xE0 t\\xECm mua nhi\\u1EC1u nh\\u1EA5t.\"})]}),loading?renderBookSkeletons(4):/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\",children:bestSellers.map(book=>/*#__PURE__*/_jsx(BookCard,{book:book},book._id))})]})}),/*#__PURE__*/_jsx(\"section\",{className:\"py-16 bg-gray-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto px-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-12\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold mb-4\",children:\"Th\\u1EC3 Lo\\u1EA1i S\\xE1ch\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 max-w-2xl mx-auto\",children:\"Kh\\xE1m ph\\xE1 c\\xE1c th\\u1EC3 lo\\u1EA1i s\\xE1ch \\u0111a d\\u1EA1ng ph\\xF9 h\\u1EE3p v\\u1EDBi m\\u1ECDi \\u0111\\u1ED9c gi\\u1EA3\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-6\",children:categories.map(category=>/*#__PURE__*/_jsxs(Link,{to:`/books?category=${category._id}`,className:`bg-white border border-gray-200 rounded-lg p-6 text-center hover:shadow-lg hover:border-primary-500 transition-all duration-300 hover:scale-105 flex flex-col items-center justify-center`,children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-3xl mb-2\",children:\"\\uD83D\\uDCDA\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-gray-800\",children:category.name})]},category._id))})]})}),/*#__PURE__*/_jsx(\"section\",{className:\"py-16 bg-primary-600 text-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto px-4 text-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold mb-4\",children:\"\\u0110\\u0103ng K\\xFD Nh\\u1EADn Tin\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xl mb-8 opacity-90\",children:\"Nh\\u1EADn th\\xF4ng b\\xE1o v\\u1EC1 s\\xE1ch m\\u1EDBi, khuy\\u1EBFn m\\xE3i \\u0111\\u1EB7c bi\\u1EC7t v\\xE0 nhi\\u1EC1u \\u01B0u \\u0111\\xE3i h\\u1EA5p d\\u1EABn.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"max-w-md mx-auto\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"flex\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Nh\\u1EADp email c\\u1EE7a b\\u1EA1n\",className:\"flex-1 px-4 py-3 rounded-l-lg text-gray-900 focus:outline-none focus:ring-2 focus:ring-white\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn bg-white text-primary-600 hover:bg-gray-100 rounded-l-none\",children:\"\\u0110\\u0103ng k\\xFD\"})]})})]})})]});};export default HomePage;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}